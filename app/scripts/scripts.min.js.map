{"version":3,"sources":["script.js"],"names":["didScroll","pageSections","document","querySelector","window","onscroll","detectElementsOnScroll","year","length","map","section","index","classes","isScrolledIntoView","load_masks","lt","ll","lb","rt","rr","rb","Object","keys","key","elm","createElement","classList","add","splice","clearInterval","interval","setInterval","masks","style","border","headingFragment","createDocumentFragment","remainingFragment","heading","m","appendChild","flag","element","rect","getBoundingClientRect","elemTop","top","elemBottom","bottom","innerHeight","Date","getFullYear","innerHTML"],"mappings":"cAAA,WACE,IAAIA,GAAY,EAGVC,EAAe,CACnBC,SAASC,cAAc,gCACvBD,SAASC,cAAc,kCACvBD,SAASC,cAAc,gCAqBzBC,OAAOC,SAAW,WAAA,OAAMC,KAExB,IA+CQC,EA/CFD,EAAyB,WAC7BN,GAAY,EACRC,EAAaO,OACfP,EAAaQ,IAAI,SAACC,EAASC,GAvBX,IACZC,EAuBEC,EAAmBH,KACrBI,EAAWJ,GAxBXE,EAAU,CACdG,GAAI,gBACJC,GAAI,iBACJC,GAAI,mBACJC,GAAI,iBACJC,GAAI,kBACJC,GAAI,qBAENC,OAAOC,KAAKV,GAASH,IAAI,SAAAc,GACvB,IAAMC,EAAMtB,SAASuB,cAAc,QACnCD,EAAIE,UAAUC,IAAIf,EAAQW,IAC1BX,EAAQW,GAAOC,IAEVZ,IAYDX,EAAa2B,OAAOjB,EAAO,MAI/BkB,cAAcC,IAIZA,EAAWC,YAAY,WACvB/B,IACFA,GAAY,IAEb,KAGGc,EAAa,SAACJ,EAASsB,GAC3BtB,EAAQuB,MAAMC,OAAS,kBACvB,IAAMC,EAAkBjC,SAASkC,yBAC/BC,EAAoBnC,SAASkC,yBAC7BE,EAAU5B,EAAQP,cAAc,MAClC,CAAC,KAAM,MAAMM,IAAI,SAAA8B,GACfJ,EAAgBK,YAAYR,EAAMO,MAEpC,CAAC,KAAM,KAAM,KAAM,MAAM9B,IAAI,SAAA8B,GAC3BF,EAAkBG,YAAYR,EAAMO,MAEtCD,EAAQE,YAAYL,GACpBzB,EAAQ8B,YAAYH,GACpB3B,EAAQ+B,MAAO,GAIX5B,EAAqB,SAAA6B,GACzB,IAAMC,EAAOD,EAAQE,wBACnBC,EAAUF,EAAKG,IACfC,EAAaJ,EAAKK,OACpB,OAAOH,EAAUzC,OAAO6C,aAA6B,GAAdF,GAKjCxC,GAAO,IAAI2C,MAAOC,cACTjD,SAASC,cAAc,eAC3BiD,UAAY7C,EA/E3B","file":"scripts.min.js","sourcesContent":["(function boxAnimations() {\n  let didScroll = false;\n\n  // Add page sections here:\n  const pageSections = [\n    document.querySelector(\"#about-us-section .container\"),\n    document.querySelector(\"#what-we-do-section .container\"),\n    document.querySelector(\"#contact-section .container\")\n  ];\n\n  const createMasks = () => {\n    const classes = {\n      lt: \"left-mask-top\",\n      ll: \"left-mask-side\",\n      lb: \"left-mask-bottom\",\n      rt: \"right-mask-top\",\n      rr: \"right-mask-side\",\n      rb: \"right-mask-bottom\"\n    };\n    Object.keys(classes).map(key => {\n      const elm = document.createElement(\"span\");\n      elm.classList.add(classes[key]);\n      classes[key] = elm;\n    });\n    return classes;\n  };\n\n  // When the user scrolls, inject the created DOM elements and the css takes over!\n  window.onscroll = () => detectElementsOnScroll();\n\n  const detectElementsOnScroll = () => {\n    didScroll = true;\n    if (pageSections.length) {\n      pageSections.map((section, index) => {\n        if (isScrolledIntoView(section)) {\n          load_masks(section, createMasks());\n          pageSections.splice(index, 1);\n        }\n      });\n    } else {\n      clearInterval(interval);\n    }\n  };\n\n  const interval = setInterval(() => {\n    if (didScroll) {\n      didScroll = false;\n    }\n  }, 100);\n\n  // Takes in a section and appends the correct DOM elements.\n  const load_masks = (section, masks) => {\n    section.style.border = \"2px solid black\";\n    const headingFragment = document.createDocumentFragment(),\n      remainingFragment = document.createDocumentFragment(),\n      heading = section.querySelector(\"h2\");\n    [\"lt\", \"rt\"].map(m => {\n      headingFragment.appendChild(masks[m]);\n    });\n    [\"ll\", \"lb\", \"rr\", \"rb\"].map(m => {\n      remainingFragment.appendChild(masks[m]);\n    });\n    heading.appendChild(headingFragment);\n    section.appendChild(remainingFragment);\n    section.flag = true;\n  };\n\n  // Detect if the element is in the viewport.\n  const isScrolledIntoView = element => {\n    const rect = element.getBoundingClientRect(),\n      elemTop = rect.top,\n      elemBottom = rect.bottom;\n    return elemTop < window.innerHeight && elemBottom >= 0;\n  };\n\n  (function unrelatedJS() {\n    // Sets the current year in the footer\n    const year = new Date().getFullYear(),\n      footerYear = document.querySelector(\"footer span\");\n    footerYear.innerHTML = year;\n  })();\n})();\n"]}